Building Docker container for use with Shifter at NERSC, using the Intel compilers
==================================================================================

This uses the Intel compilers, which introduces two complications:
- you need to access the license server at NERSC to build
- the intel compilers cannot be distributed, therefore can't be posted to Docker Hub,
  so NERSC provides a "two-stage build" recipe where you build in a full container, and
  then copy your results into a container with just the freely-distributable runtime
  components of the Intel suite.

First, set up your `~/.ssh/config` file, adding a stanza called `intel-license`:

```
Host intel-license
Hostname cori.nersc.gov
GatewayPorts yes
LocalForward 28519 intel.licenses.nersc.gov:28519
IdentityFile ~/.ssh/nersc
IdentitiesOnly yes
```

Second, run `sshproxy` if you haven't already done so today.

Third, run the `build.sh` script:

```
(cd docker-nersc && build.sh)
```

